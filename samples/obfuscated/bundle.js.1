!function(e){function n(n){for(var r,a,s=n[0],c=n[1],l=n[2],u=0,g=[];u<s.length;u++)a=s[u],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&g.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(d&&d(n);g.length;)g.shift()();return i.push.apply(i,l||[]),t()}function t(){for(var e,n=0;n<i.length;n++){for(var t=i[n],r=!0,s=1;s<t.length;s++){var c=t[s];0!==o[c]&&(r=!1)}r&&(i.splice(n--,1),e=a(a.s=t[0]))}return e}var r={},o={main:0},i=[];function a(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.e=function(e){var n=[],t=o[e];if(0!==t)if(t)n.push(t[2]);else{var r=new Promise((function(n,r){t=o[e]=[n,r]}));n.push(t[2]=r);var i,s=document.createElement("script");s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.src=function(e){return a.p+""+e+".bundle.js"}(e);var c=new Error;i=function(n){s.onerror=s.onload=null,clearTimeout(l);var t=o[e];if(0!==t){if(t){var r=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;c.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",c.name="ChunkLoadError",c.type=r,c.request=i,t[1](c)}o[e]=void 0}};var l=setTimeout((function(){i({type:"timeout",target:s})}),12e4);s.onerror=s.onload=i,document.head.appendChild(s)}return Promise.all(n)},a.m=e,a.c=r,a.d=function(e,n,t){a.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,n){if(1&n&&(e=a(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)a.d(t,r,function(n){return e[n]}.bind(null,r));return t},a.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(n,"a",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p="/homepage/static",a.oe=function(e){throw console.error(e),e};var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=n,s=s.slice();for(var l=0;l<s.length;l++)n(s[l]);var d=c;i.push([82,"uc","vendor"]),t()}({82:function(e,n,t){"use strict";t.r(n);var r=t(6),o=t.n(r),i=t(11),a=t.n(i),s=(t(30),t(27)),c=t(43),l=t(1),d=t.n(l),u=t(28),g=t(3),p=t(44),m=["aspen","boston","denver","greenwich_ct","hamptons","houston","la","long_island","nyc","orlando","san_diego","santa_barbara_montecito","seattle","sf","telluride","westchester_ny",void 0];function h(e){var n=0,t=new Set;if(!e||!e.listingRelations||!Array.isArray(e.listingRelations))throw new TypeError("Invalid Response from listSearchRelations\n      Expected object containing array `listingRelations`, received: ".concat(JSON.stringify(e)));return e.listingRelations.filter((function(e){var r=d()(e,"listing.location.prettyAddress","").split(", ")[0].toLowerCase();return!(n>=8||!r||t.has(r))&&(t.add(r),n++,!0)}))}var f=t(0),w=t.n(f),y=t(29),v=t.n(y),b=d()(window,"uc.agentRelations");function S(){if(b&&b.brandingAgentOrTeam){var e={key:"privateExclusiveBrandedAdCard",brandAgent:!0,agent:b.brandingAgentOrTeam,lazyLoad:!0};return w.a.createElement(v.a,e)}return w.a.createElement(v.a,{key:"privateExclusiveAdCard",lazyLoad:!0})}function O(){return L.apply(this,arguments)}function L(){return(L=a()(o.a.mark((function e(){var n,t,r,i,a,s,c,l=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=l.length>0&&void 0!==l[0]?l[0]:[])&&n.length&&!(n.length<8)){e.next=3;break}return e.abrupt("return");case 3:return t=[],r=[],i=0,a=new Set,s=[],e.next=10,A();case 10:return c=e.sent,n.forEach((function(e){var n=d()(e,"price.lastKnown");i+=n||0,a.add(e.listingType),s.push(e.listingIdSHA),r.push({address:d()(e,"location.prettyAddress"),bathrooms:d()(e,"size.bathrooms"),bedrooms:d()(e,"size.bedrooms"),imageUrl:d()(e,"media[0].thumbnailUrl"),listingIdSHA:d()(e,"listingIdSHA"),listingType:d()(e,"listingType"),localizedStatus:d()(e,"localizedStatus"),neighborhood:d()(e,"location.neighborhood"),pageLink:d()(e,"pageLink"),price:n,squareFeet:d()(e,"size.squareFeet")}),t.push(w.a.createElement(c.default,{data:e,key:e.listingIdSHA,lazyLoadSingleImage:!0,queryParams:{origin:"Homepage"}}))})),t.pop(),t.splice(3,0,S()),s.pop(),e.abrupt("return",{listingAnalyticsData:{average:i/n.length,listingCardsAnalyticsData:r,listingTypesOnPage:Array.from(a).join(),listingsShownOnPage:s},listingPhotoCards:t});case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return H.apply(this,arguments)}function H(){return(H=a()(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e("listing-photocard.react").then(t.bind(null,145));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=t(45),D=t.n(I);function P(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function T(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?P(Object(t),!0).forEach((function(n){D()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var k={};function E(){window.analytics&&window.analytics.track&&(_({element:document.querySelector("[data-am='homepage-neighborhoodGuidesButton']"),title:"Homepage Neighborhood Guide View All Clicked"}),_({element:document.querySelector("[data-am='homepage-listingButton']"),title:"Homepage Listings View All Clicked"}),_({element:document.querySelector("[data-am='homepage-conciergeButton']"),title:"Homepage Concierge CTA Clicked"}),document.querySelectorAll(".homepage-featuredGuide").forEach((function(e){_({element:e,title:"Homepage Neighborhood Guide Clicked",additionalDataPoints:{Neighborhood:e.getAttribute("data-displayName"),Url:e.getAttribute("href")}})})),document.querySelectorAll(".internalLinks-link").forEach((function(e){_({element:e,title:"homepage_internal_link_clicked",additionalDataPoints:{product:"seo",product_path:e.getAttribute("data-sectionHeaderText"),link_clicked:e.getAttribute("data-displayText")}})})))}function x(){document.querySelectorAll(".uc-listingCard").forEach((function(e,n){var t;if(e.dataset.tn&&"adCard-privateExclusiveCard"===e.dataset.tn)t={listingIdSHA:"privateExclusiveAd"};else{var r=d()(k,"listingCardsAnalyticsData[".concat(n,"]"));t=r?{Address:r.address,Bathrooms:r.bathrooms,Bedrooms:r.bedrooms,"Display Image":r.imageUrl,"Listing Type":r.listingType,"Localized Status":r.localizedStatus,Neighborhood:r.neighborhood,Position:n+1,Price:r.price,"Square Feet":r.squareFeet,Url:r.pageLink,listingIdSHA:r.listingIdSHA}:{Address:e.querySelector(".uc-listingCard-title")&&e.querySelector(".uc-listingCard-title").innerText,Position:n+1,Url:e.getAttribute("href")}}_({additionalDataPoints:t,element:e,title:"Homepage Listing Clicked"})}))}function C(e){var n=e.title,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.analytics&&window.analytics.ready((function(){window.analytics.track(n,T({"Current Geography":d()(window,"uc.geoId","Geography Not Detected"),"Homepage Neighborhoods Shown":document.querySelectorAll(".homepage-featuredGuide").length,Source:"Homepage","User ID":d()(window,"uc.user.personId","User ID Not Detected"),referring_agent_id:d()(window,"uc.agentRelations.brandingAgentOrTeam.id")},t))}))}function R(e){window.analytics&&window.analytics.ready((function(){window.analytics.track("Homepage Unable to Find Compass Exclusives",{"Current Geography":d()(window,"uc.geoId","Geography Not Detected"),"Homepage Listings Average Price":e.average,"Homepage Listing Types On Page":e.listingTypesOnPage,"Homepage Listings Shown On Page":e.listingsShownOnPage,"Homepage Neighborhoods Shown":document.querySelectorAll(".homepage-featuredGuide").length,"Recommendation IDs":e.recommendationIDs,Source:"Homepage","User ID":d()(window,"uc.user.personId","User ID Not Detected"),"From Cache":e.fromCache,referring_agent_id:d()(window,"uc.agentRelations.brandingAgentOrTeam.id"),nonInteraction:!0})}))}function _(e){var n=e.element,t=e.title,r=e.additionalDataPoints;n&&n.addEventListener("click",(function(){window.analytics&&window.analytics.ready((function(){window.analytics.track(t,Object.assign({"Current Geography":d()(window,"uc.geoId","Geography Not Detected"),"Homepage Listings Average Price":k.average,"Homepage Listing Types On Page":k.listingTypesOnPage,"Homepage Listings Shown On Page":k.listingsShownOnPage,"Homepage Neighborhoods Shown":document.querySelectorAll(".homepage-featuredGuide").length,"Recommendation IDs":k.recommendationIDs,Source:"Homepage","User ID":d()(window,"uc.user.personId","User ID Not Detected"),"From Cache":k.fromCache,referring_agent_id:d()(window,"uc.agentRelations.brandingAgentOrTeam.id")},r))}))}))}var N=["tampa","bakersfield","orlando"];function j(){try{window.renderNav({showLocationLookup:!1,transparent:!0}).catch((function(e){console.error("RenderNav Error:",e)}))}catch(e){console.error("RenderNav Error:",e)}var e,n;!function(){if("?logout"===window.location.search&&(window.analytics&&window.analytics.ready((function(){window.analytics.reset()})),window.history&&window.history.replaceState)){var e=window.location.href;window.history.replaceState({},document.title,e.substring(0,e.indexOf("?logout")))}}(),Object(s.trackPerformance)("Homepage",s.CUSTOM_DIMENSION.HOMEPAGE_LOAD_TIME),function(){var e=document.getElementById("omnibox-mobile-search"),n=document.querySelector("#omnibox #location-lookup-close-search"),t=document.querySelector(".homepage-heroContent");e&&e.addEventListener("click",(function(){t.classList.add("is-expanded")}));n&&n.addEventListener("click",(function(){t.classList.remove("is-expanded")}))}(),function(){var e,n=document.querySelector(".homepage-listingContent"),t=document.querySelector(".homepage-sectionHeader"),r=document.querySelector(".homepage-sectionDescription");if(!n)return;Object(c.getRecommendations)({numResults:8}).then(function(){var i=a()(o.a.mark((function i(a){var s,c,l,u;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(a&&a.recommendations&&0!==a.recommendations.length){o.next=3;break}return C({title:"Homepage No Recommended Listings Retrieved"},{nonInteraction:!0}),o.abrupt("return");case 3:return s=a.fromCache,c=a.recommendationIDs,l=a.recommendations,Object.assign(k,{recommendationIDs:c,fromCache:s}),t.innerHTML="Recommended For You",r.innerHTML="Listings we think you’ll love.",q(t,r),o.next=10,O(l);case 10:return u=o.sent,o.next=13,G(u,n);case 13:N.includes(window.uc.geoId)&&document.querySelector(".homepage-listingSection").classList.remove("homepage-listingSection--hide"),window.analytics&&window.analytics.ready((function(){window.analytics.track("Homepage Received Recommended Listings",{"Current Geography":d()(window,"uc.geoId","Geography Not Detected"),"Homepage Listings Average Price":k.average,"Homepage Listing Types On Page":k.listingTypesOnPage,"Homepage Listings Shown On Page":k.listingsShownOnPage,"Homepage Neighborhoods Shown":document.querySelectorAll(".homepage-featuredGuide").length,"Recommendation IDs":k.recommendationIDs,Source:"Homepage","User ID":d()(window,"uc.user.personId","User ID Not Detected"),"From Cache":k.fromCache,referring_agent_id:d()(window,"uc.agentRelations.brandingAgentOrTeam.id"),nonInteraction:!0})})),e=!0;case 16:case"end":return o.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()).catch((function(){C({title:"Homepage Unable to Retrieve and Format Recommended Listings"})})).finally((function(){e||(q(t,r),function(e){(n=window.uc.geoId,t=m.includes(n)?1e6:5e5,r={relationTypes:[u.AgentRelationType.PREFERRED],searchQuery:{availability:g.Availability.AVAILABLE,exclusives:!0,geography:n,hasImages:!0,includeShortTermRentals:!1,listingTypes:[g.ListingType.SALES],maxOriginalsPerListing:0,minPrice:t,num:20,saleStatuses:[g.SaleStatus.AVAILABLE,g.SaleStatus.COMING_SOON],sortOrder:p.SORT_ORDER.AGENT_SEARCH_DEFAULT,start:0}},Object(u.listSearchRelations)(r).then(h)).then(function(){var n=a()(o.a.mark((function n(t){var r,i,a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=t.map((function(e){return e.listing})))&&r.length&&!(r.length<6)){n.next=4;break}throw R(k),"Expected at least 6 listings, received ".concat(r);case 4:return n.next=6,O(r);case 6:return i=n.sent,n.next=9,G(i,e);case 9:(a=document.querySelector(".homepage-listingButton"))&&a.classList&&a.classList.remove("homepage-listingSection--hide"),window.analytics&&window.analytics.ready((function(){window.analytics.track("Homepage Received Compass Exclusive Listings",{"Current Geography":d()(window,"uc.geoId","Geography Not Detected"),"Homepage Listings Average Price":k.average,"Homepage Listing Types On Page":k.listingTypesOnPage,"Homepage Listings Shown On Page":k.listingsShownOnPage,"Homepage Neighborhoods Shown":document.querySelectorAll(".homepage-featuredGuide").length,"Recommendation IDs":k.recommendationIDs,Source:"Homepage","User ID":d()(window,"uc.user.personId","User ID Not Detected"),"From Cache":k.fromCache,referring_agent_id:d()(window,"uc.agentRelations.brandingAgentOrTeam.id"),nonInteraction:!0})}));case 12:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(n){return function(e,n){console.warn("Error fetching listings for geoId ".concat(window.uc.geoId,":"),e),n.parentElement.parentElement.style.display="none"}(n,e)}));var n,t,r}(n))}))}(),e=document.querySelector(".internalLinks-citiesDropdown label"),n=document.querySelector(".internalLinks-marketsDropdown label"),[e,n].forEach((function(e){e.addEventListener("click",(function(){e.innerHTML.includes("Show")?(e.innerHTML=e.innerHTML.replace("Show","Hide"),e.innerHTML=e.innerHTML.replace("cx-icon-arrowheadDown_16x16","cx-icon-arrowheadUp_16x16")):(e.innerHTML=e.innerHTML.replace("Hide","Show"),e.innerHTML=e.innerHTML.replace("cx-icon-arrowheadUp_16x16","cx-icon-arrowheadDown_16x16"))}))})),E()}function q(e,n){e.classList.remove("is-loading"),n.classList.remove("is-loading"),e.parentElement.className="homepage-listingsHeader",n.parentElement.className="homepage-listingsDescription"}function G(e,n){return U.apply(this,arguments)}function U(){return(U=a()(o.a.mark((function e(n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(t.t.bind(null,16,7));case 2:e.sent.render(n.listingPhotoCards,r,(function(){window.analytics&&window.analytics.track&&(Object.assign(k,n.listingAnalyticsData),x())}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}"loading"!==document.readyState?j():document.addEventListener("DOMContentLoaded",j)}});
//# sourceMappingURL=bundle.js.map